[
	{
		"title": "Organisations",
		"description": "Organisations represent a top-level grouping entity. There may be many organisations defined in a single deployment.",
		"package": "crust",
		"entrypoint": "organisation",
		"apis": {
			"edit": {
				"method": "POST",
				"title": "Update organisation details",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": false, "title": "ID of Organisation" },
						{ "type": "string", "name": "name", "required": true, "title": "Name of Organisation" }
					]
				}
			},
			"remove": {
				"method": "DELETE",
				"title": "Remove organisation",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			},
			"read": {
				"method": "GET",
				"title": "Read organisation details",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			},
			"search": {
				"method": "GET",
				"title": "Search organisations",
				"parameters": {
					"get": [
						{ "type": "string", "name": "query", "required": false, "title": "Search query" }
					]
				}
			},
			"archive": {
				"method": "POST",
				"title": "Archive organisation",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			}
		}
	},
	{
		"title": "Teams",
		"description": "An organisation may have many teams. Teams may have many channels available. Access to channels may be shared between teams.",
		"package": "crust",
		"entrypoint": "team",
		"apis": {
			"edit": {
				"method": "POST",
				"title": "Update team details",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": false, "title": "ID of Team" },
						{ "type": "string", "name": "name", "required": true, "title": "Name of Team" },
						{ "type": "[]uint64", "name": "members", "required": false, "title": "Team member IDs" }
					]
				}
			},
			"remove": {
				"method": "DELETE",
				"title": "Remove team",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			},
			"read": {
				"method": "GET",
				"title": "Read team details and memberships",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			},
			"search": {
				"method": "GET",
				"title": "Search teams",
				"parameters": {
					"get": [
						{ "type": "string", "name": "query", "required": false, "title": "Search query" }
					]
				}
			},
			"archive": {
				"method": "POST",
				"title": "Archive team",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" }
					]
				}
			},
			"move": {
				"method": "POST",
				"title": "Move team to different organisation",
				"parameters": {
					"POST": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Organisation" },
						{ "type": "uint64", "name": "organisation_id", "required": true, "title": "ID of Organisation" }
					]
				}
			}
		}
	},
	{
		"title": "Channels",
		"description": "A channel is a representation of a sequence of messages. It has meta data like channel subject. Channels may be public, private or direct (between two users).",
		"package": "crust",
		"entrypoint": "channel",
		"apis": {
			"edit": {
				"method": "POST",
				"title": "Update channel details",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": false, "title": "ID of Channel" },
						{ "type": "string", "name": "name", "required": true, "title": "Name of Channel" },
						{ "type": "string", "name": "topic", "required": true, "title": "Subject of Channel" }
					]
				}
			},
			"remove": {
				"method": "DELETE",
				"title": "Remove channel",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Channel" }
					]
				}
			},
			"read": {
				"method": "GET",
				"title": "Read channel details",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Channel" }
					]
				}
			},
			"search": {
				"method": "GET",
				"title": "Search channels",
				"parameters": {
					"get": [
						{ "type": "string", "name": "query", "required": false, "title": "Search query" }
					]
				}
			},
			"archive": {
				"method": "POST",
				"title": "Archive channel",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Channel" }
					]
				}
			},
			"move": {
				"method": "POST",
				"title": "Move channel to different team or organisation",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Channel" }
					]
				}
			},
			"merge": {
				"method": "POST",
				"title": "Merge one team into another",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "destination", "required": true, "title": "Destination Channel ID" },
						{ "type": "uint64", "name": "source", "required": true, "title": "Source Channel ID" }
					]
				}
			}
		}
	},
	{
		"title": "Messages",
		"package": "crust",
		"entrypoint": "message",
		"apis": {
			"edit": {
				"method": "POST",
				"title": "New message / edit message",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": false, "title": "ID of Message" },
						{ "type": "uint64", "name": "channel_id", "required": false, "title": "ID of Channel where to post message" },
						{ "type": "string", "name": "contents", "required": true, "title": "Message contents (markdown)" }
					]
				}
			},
			"remove": {
				"method": "DELETE",
				"title": "Remove message",
				"parameters": {
					"get": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Message" }
					]
				}
			},
			"read": {
				"method": "GET",
				"title": "Read message details",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "channel_id", "required": true, "title": "ID of Channel to read messages from" }
					]
				}
			},
			"search": {
				"method": "GET",
				"title": "Search messages",
				"parameters": {
					"get": [
						{ "type": "string", "name": "query", "required": false, "title": "Search string to match against messages" },
						{
							"type": "string",
							"name": "message_type",
							"required": false,
							"title": "Limit results to message type",
							"values": ["history", "message", "attachment", "media"]
						}
					]
				}
			},
			"pin": {
				"method": "POST",
				"title": "Pin message to channel (public bookmark)",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Message" }
					]
				}
			},
			"flag": {
				"method": "POST",
				"title": "Flag message for user (bookmark)",
				"parameters": {
					"post": [
						{ "type": "uint64", "name": "id", "required": true, "title": "ID of Message" }
					]
				}
			}
		}
	},
	{
		"title": "Members",
		"package": "crust",
		"entrypoint": "member",
		"apis": {
			"search": {
				"method": "GET",
				"title": "Search members (Directory)"
			}
		}
	},
	{
		"title": "Files",
		"description": "The Files API is an abstraction over messages that have been sent with a file attachment.",
		"package": "crust",
		"entrypoint": "file",
		"apis": {
			"add": {
				"method": "POST",
				"title": "Add new file"
			},
			"read": {
				"method": "GET",
				"title": "Read file"
			},
			"remove": {
				"method": "DELETE",
				"title": "Remove file"
			},
			"search": {
				"method": "GET",
				"title": "Search files"
			}
		}
	}
]